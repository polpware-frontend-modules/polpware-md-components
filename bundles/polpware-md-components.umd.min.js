!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/collections"),require("rxjs"),require("@angular/cdk/coercion"),require("@angular/common/http"),require("@polpware/fe-utilities"),require("@angular/core"),require("@angular/common"),require("@angular/material"),require("@angular/forms"),require("ngx-chips"),require("ngx-autosize")):"function"==typeof define&&define.amd?define("@polpware/md-components",["exports","@angular/cdk/collections","rxjs","@angular/cdk/coercion","@angular/common/http","@polpware/fe-utilities","@angular/core","@angular/common","@angular/material","@angular/forms","ngx-chips","ngx-autosize"],t):t((e.polpware=e.polpware||{},e.polpware["md-components"]={}),e.ng.cdk.collections,e.rxjs,e.ng.cdk.coercion,e.ng.common.http,e.feUtilities,e.ng.core,e.ng.common,e.ng.material,e.ng.forms,e.ngxChips,e.ngxAutosize)}(this,function(e,t,i,n,o,r,a,s,l,c,p,u){"use strict";var d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var m=function(n){function e(e){var t=n.call(this)||this;return t._database=e,t._filterChange=new i.BehaviorSubject(""),t}return function o(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(e,n),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filterChange.value},set:function(e){this._filterChange.next(e)},enumerable:!0,configurable:!0}),e.prototype.connect=function(){return this._database.dataChange.asObservable()},e.prototype.disconnect=function(){},e}(t.DataSource),g=function(){function e(e,t){this.dialogRef=e,this.data=t,this.title=t.title||""}return e.prototype.onNoClick=function(){this.dialogRef.close()},e.decorators=[{type:a.Component,args:[{selector:"polp-md-indicator-modal",template:'<div class="full-width flex-box flex-column align-items-center">\r\n  <mat-spinner>\r\n  </mat-spinner>\r\n  <h3>{{title}}</h3>\r\n</div>\r\n\r\n'}]}],e.ctorParameters=function(){return[{type:l.MatDialogRef},{type:undefined,decorators:[{type:a.Inject,args:[l.MAT_DIALOG_DATA]}]}]},e}(),f=function(){function e(e){this._dialog=e,this._showingTimer=null,this._showingDelay=500,this._dismissingTimer=null,this._diaglogRef=null,this._counter=0}return e.prototype.setDelay=function(e){this._showingDelay=1e3*e},e.prototype.show=function(e){var t=this;if(void 0===e&&(e="Loading ..."),this._counter++,!this._diaglogRef)return this._dismissingTimer?(clearTimeout(this._dismissingTimer),void(this._dismissingTimer=0)):void(this._showingTimer||(this._showingTimer=setTimeout(function(){t._showingTimer=null,t._diaglogRef=t._dialog.open(g,{width:"250px",data:{title:e}})},this._showingDelay)));this._dismissingTimer&&(clearTimeout(this._dismissingTimer),this._dismissingTimer=0)},e.prototype.hide=function(){var e=this;if(this._counter--,!(0<this._counter))return this._showingTimer?(clearTimeout(this._showingTimer),void(this._showingTimer=null)):this._dismissingTimer?(clearTimeout(this._dismissingTimer),void(this._dismissingTimer=setTimeout(function(){e._dismissingTimer=null,e._diaglogRef&&(e._diaglogRef.close(),e._diaglogRef=null)},300))):void(this._diaglogRef&&(this._dismissingTimer=setTimeout(function(){e._dismissingTimer=null,e._diaglogRef&&(e._diaglogRef.close(),e._diaglogRef=null)},300)))},e.decorators=[{type:a.Injectable}],e.ctorParameters=function(){return[{type:l.MatDialog}]},e}();function b(e){var t=e.value;return/\S+@\S+\.\S+/.test(t)?null:{isValidEmail:!0}}var h=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*/g;function y(e){for(var t,n=[],o=0;t=h.exec(e);){var i;(i=e.substring(o,t.index).replace(/(^[\s,>]+)|"|([\s,<]+$)/g,""))?n.push('"'+i+'" <'+t[0]+">"):n.push(t[0]),o=t.index+t[0].length}return n}var v=function(){function e(e){this.dialogRef=e,this.validators=[b],this.errorMessages={isValidEmail:"Please input a valid email"},this.title="Send out an email",this.emails=[],this.messageBody="",this.disableFocusEvent=!1}return Object.defineProperty(e.prototype,"isSubmitDisabled",{get:function(){return 0===this.emails.length},enumerable:!0,configurable:!0}),e.prototype.onOutOfTagInput=function(e){var t=this;this.disableFocusEvent||(e.preventDefault(),e.stopPropagation(),y(this.emailInputBox.formValue).forEach(function(e){t.emails.push(e)}),this.emailInputBox.setInputValue(""),this.disableFocusEvent=!0,this.emailBody.nativeElement.focus(),this.disableFocusEvent=!1)},e.propDecorators={emailInputBox:[{type:a.ViewChild,args:["emailInputBox"]}],emailBody:[{type:a.ViewChild,args:["emailBody"]}]},e}(),x=function(){function e(){this.stateChanges=new i.Subject,this.id="radio-group-field-control-"+e.nextId++,this.focused=!1,this.errorState=!1,this.controlType="radio-group-field",this.describedBy="",this.ngControl=null}return Object.defineProperty(e.prototype,"value",{get:function(){return this.radioGroup.value},set:function(e){this.radioGroup.value=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.radioGroup.required},set:function(e){this.radioGroup.required=n.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.radioGroup.disabled},set:function(e){this.radioGroup.disabled=n.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.stateChanges.complete()},e.prototype.setDescribedByIds=function(e){this.describedBy=e.join(" ")},e.prototype.onContainerClick=function(e){},e.prototype.writeValue=function(e){e!==undefined&&this.radioGroup.writeValue(e)},e.prototype.registerOnChange=function(e){this.radioGroup.registerOnChange(e)},e.prototype.registerOnTouched=function(e){this.radioGroup.registerOnTouched(e)},e.nextId=0,e.decorators=[{type:a.Component,args:[{selector:"polp-radio-group-field",template:'<mat-radio-group>\n    <mat-radio-button *ngFor="let item of radioOptions" value="{{item.value}}">{{item.text}}</mat-radio-button>\n</mat-radio-group>\n',providers:[{provide:l.MatFormFieldControl,useExisting:e},{provide:c.NG_VALUE_ACCESSOR,multi:!0,useExisting:a.forwardRef(function(){return e})}],styles:[".mat-radio-group .mat-radio-button{margin:0 5px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={radioGroup:[{type:a.ViewChild,args:[l.MatRadioGroup]}],id:[{type:a.HostBinding}],describedBy:[{type:a.HostBinding,args:["attr.aria-describedby"]}],radioOptions:[{type:a.Input}],value:[{type:a.Input}],placeholder:[{type:a.Input}],shouldLabelFloat:[{type:a.HostBinding,args:["class.floating"]}],required:[{type:a.Input}],disabled:[{type:a.Input}]},e}(),_=function(){function e(e,t){this.dialogRef=e,this.data=t,this.files=[],this.responses=[],this.title=this.data.title||"",this.accept=this.data.accept||"*/",this.text=this.data.prelude||"",this.mode=this.data.progressMode||"indeterminate"}return Object.defineProperty(e.prototype,"isCloseDisabled",{get:function(){return this.files.some(function(e){return e.inProgress})},enumerable:!0,configurable:!0}),e.prototype.close=function(){this.dialogRef.close(this.responses)},e.prototype.ngOnInit=function(){},e.prototype.startUpload=function(){var o=this,i=document.getElementById("polpFileUpload");i.onchange=function(){var e=o.data.validateInput(i.files);if(e)o.error=e;else{for(var t=0;t<i.files.length;t++){var n=i.files[t];o.files.push({uuid:r.guid(),data:n,state:"in",inProgress:!1,progress:0,canRetry:!1,canCancel:!0,message:""})}o.uploadFiles()}},i.click()},e.prototype.cancelFile=function(e){e.sub.unsubscribe(),this.removeFileFromArray(e)},e.prototype.retryFile=function(e){this.uploadFile(e),e.canRetry=!1},e.prototype.postUploadFile=function(e,t){var n=this;this.responses.push({uuid:e.uuid,body:t}),this.data.closeOnSunccess&&this.files.length===this.responses.length&&setTimeout(function(){n.close()})},e.prototype.uploadFile=function(t){var n=this;t.inProgress=!0,t.sub=this.data.uploadService.upload(t.data,this.data.uploadUrl,this.data.makeFormData).subscribe(function(e){switch(e.eventType){case o.HttpEventType.UploadProgress:t.progress=e.percent;break;case o.HttpEventType.Response:t.message="Upload Ok.",t.inProgress=!1,t.canCancel=!1,t.canRetry=!1,n.postUploadFile(t,e.body)}},function(e){t.inProgress=!1,t.canRetry=!0,t.message="upload failure."})},e.prototype.uploadFiles=function(){var t=this;document.getElementById("polpFileUpload").value="",this.files.forEach(function(e){t.uploadFile(e)})},e.prototype.removeFileFromArray=function(e){var t=this.files.indexOf(e);-1<t&&this.files.splice(t,1)},e.decorators=[{type:a.Component,args:[{selector:"plop-upload-file",template:'<h2 mat-dialog-title>\n    {{title}}\n    <button class="float-right"\n            mat-icon-button\n            tabIndex="-1"\n            [disabled]="isCloseDisabled"            \n            [mat-dialog-close]="true">\n        <mat-icon>close</mat-icon>\n    </button>\n</h2>\n\n<mat-dialog-content>\n\n    <div class="flex-box flex-column">\n\n        <button mat-flat-button color="accent" (click)="startUpload()">\n            <mat-icon>file_upload</mat-icon>\n            {{text}}\n        </button>\n\n        <p *ngIf="error" color="warn">{{error}}</p>\n        \n        <mat-list>\n            <mat-list-item *ngFor="let file of files">\n                <mat-progress-bar matLine *ngIf="file.inProgress"\n                                  [value]="file.progress" mode="{{mode}}">\n                </mat-progress-bar>\n                <div matLine>\n                    <span>\n                        {{file.data.name}}\n                    </span>\n                    \n                    <span>\n                        {{file.data.message}}\n                    </span>\n                    \n                    <button mat-icon-button title="Retry" (click)="retryFile(file)" *ngIf="file.canRetry">\n                        <mat-icon>refresh</mat-icon>\n                    </button>\n                    <button mat-icon-button title="Cancel" (click)="cancelFile(file)" *ngIf="file.canCancel">\n                        <mat-icon>cancel</mat-icon>\n                    </button>\n                </div>\n            </mat-list-item>\n        </mat-list>\n\n    </div>    \n    \n    <input type="file" id="polpFileUpload" name="fileUpload" multiple="multiple" accept="{{accept}}" style="display:none;"/>\n    \n</mat-dialog-content>\n\n<mat-dialog-actions>\n    <button mat-flat-button\n            [disabled]="isCloseDisabled"\n            (click)="close()">\n        Close\n    </button>\n</mat-dialog-actions>\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:l.MatDialogRef},{type:undefined,decorators:[{type:a.Inject,args:[l.MAT_DIALOG_DATA]}]}]},e}(),k=function(){function e(e){this.data=e}return e.prototype.ngOnInit=function(){},e.decorators=[{type:a.Component,args:[{selector:"polp-confirm-dialog",template:'<h1 mat-dialog-title>{{data.title}}</h1>\n<div mat-dialog-content>\n    {{data.message}}\n</div>\n<mat-dialog-actions>\n    <button mat-button [mat-dialog-close]="false" color="primary">No</button>\n    <button mat-button [mat-dialog-close]="true" color="warn">Yes</button>\n</mat-dialog-actions>\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:a.Inject,args:[l.MAT_DIALOG_DATA]}]}]},e}(),C=function(){function e(e,t){this.dialogRef=e,(this.data=t).title&&(this.title=t.title),this.messageBody=t.message||""}return Object.defineProperty(e.prototype,"isSubmitDisabled",{get:function(){return!this.messageBody},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.close=function(){this.dialogRef.close({message:""})},e.prototype.confirm=function(){this.dialogRef.close({message:this.messageBody})},e.decorators=[{type:a.Component,args:[{selector:"polp-md-message-form",template:'<h2 mat-dialog-title>\n    {{title}}\n    <button class="float-right"\n            mat-icon-button\n            tabIndex="-1"\n            (click)="close()">\n        <mat-icon>close</mat-icon>\n    </button>\n</h2>\n\n<mat-dialog-content>\n\n        <div class="flex-box flex-column margin-bottom-15">\n            <div class="full-width margin-top-10">\n                <textarea name="messageBodyInput"\n                          class="full-width"\n                          #emailBody\n                          autosize [minRows]="5" [maxRows]="10"\n                          placeholder="Type your personal message here"\n                          [(ngModel)]="messageBody">\n                </textarea>\n            </div>\n\n        </div>\n\n</mat-dialog-content>\n\n<mat-dialog-actions>\n    <button mat-button (click)="close()">No Thanks</button>\n    <button mat-flat-button\n            color="primary"\n            [disabled]="isSubmitDisabled"\n            (click)="confirm()">\n        Ok\n    </button>\n</mat-dialog-actions>\n',styles:[""]}]}],e.ctorParameters=function(){return[{type:l.MatDialogRef},{type:undefined,decorators:[{type:a.Inject,args:[l.MAT_DIALOG_DATA]}]}]},e}(),M=function(){function e(e){this.data=e}return e.decorators=[{type:a.Component,args:[{selector:"polp-snackbar-error",template:'\n        <i class="material-icons">error</i>\n        <span>{{data}}</span>',styles:[":host { display: inline-flex; align-items: center; } "]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:a.Inject,args:[l.MAT_SNACK_BAR_DATA]}]}]},e}(),w=function(){function e(e){this.data=e}return e.decorators=[{type:a.Component,args:[{selector:"polp-snackbar-info",template:'\n        <i class="material-icons">notifications</i>\n        <span>{{data}}</span>',styles:[":host { display: inline-flex; align-items: center; } "]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:a.Inject,args:[l.MAT_SNACK_BAR_DATA]}]}]},e}(),I=function(){function e(e){this.data=e}return e.decorators=[{type:a.Component,args:[{selector:"polp-snackbar-success",template:'\n        <i class="material-icons">check_circle</i>\n        <span>{{data}}</span>',styles:[":host { display: inline-flex; align-items: center; } "]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:a.Inject,args:[l.MAT_SNACK_BAR_DATA]}]}]},e}(),T=function(){function e(e){this.data=e}return e.decorators=[{type:a.Component,args:[{selector:"polp-snackbar-warn",template:'\n        <i class="material-icons">warning</i>\n        <span>{{data}}</span>',styles:[":host { display: inline-flex; align-items: center; } "]}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:a.Inject,args:[l.MAT_SNACK_BAR_DATA]}]}]},e}(),A={none:0,info:1,warning:2,running:3,success:4,error:5};A[A.none]="none",A[A.info]="info",A[A.warning]="warning",A[A.running]="running",A[A.success]="success",A[A.error]="error";var P=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.dismiss=function(){this.kind=A.none,this.message="",this.subMessage=""},e.decorators=[{type:a.Component,args:[{selector:"polp-md-alert-box",template:'<div class="polp-alert-box" *ngIf="kind > 0">\n    <ng-container [ngSwitch]="kind" class="polp-alert-box">    \n        <div class="bs-like-alert alert-info" *ngSwitchCase="1">\n            <div class="message-body">\n                <p>\n                    <i class="material-icons">\n                        info\n                    </i>\n                    {{message}}\n                </p>\n                <p *ngIf="subMessage">\n                    <small>\n                        {{subMessage}}\n                    </small>\n                </p>\n            </div>\n        </div>\n        <div class="bs-like-alert alert-warning" *ngSwitchCase="2">\n            <div class="message-body">\n                <p>\n                    <i class="material-icons">\n                        warning\n                    </i>\n                    {{message}}\n                </p>\n                <p *ngIf="subMessage">\n                    <small>\n                        {{subMessage}}\n                    </small>\n                </p>\n            </div>\n        </div>\n        <div class="bs-like-alert alert-info" *ngSwitchCase="3">\n            <div class="message-body">\n                <p>\n                    <i class="material-icons animate-spin">\n                        refresh\n                    </i>\n                    {{message}}\n                </p>\n                <p *ngIf="subMessage">\n                    <small>\n                        {{subMessage}}\n                    </small>\n                </p>\n            </div>\n        </div>\n        <div class="bs-like-alert alert-success" *ngSwitchCase="4">\n            <div class="message-body">\n                <p>\n                    <i class="material-icons">\n                        check_circle\n                    </i>\n                    {{message}}\n                </p>\n                <p *ngIf="subMessage">\n                    <small>\n                        {{subMessage}}\n                    </small>\n                </p>\n            </div>\n        </div>\n        <div class="bs-like-alert alert-error" *ngSwitchCase="5">\n            <div class="message-body">\n                <p>\n                    <i class="material-icons">\n                        error\n                    </i>\n                    {{message}}\n                </p>\n                <p *ngIf="subMessage">\n                    <small>\n                        {{subMessage}}\n                    </small>\n                </p>\n            </div>\n        </div>\n    </ng-container>\n    <button mat-icon-button (click)="dismiss()" class="close-btn" *ngIf="dismissible">\n        <i class="material-icons">\n            close\n        </i>        \n    </button>\n</div>\n',styles:[".polp-alert-box{position:relative}.polp-alert-box .close-btn{position:absolute;top:0;right:0}.polp-alert-box .bs-like-alert{display:flex;border-radius:2px;box-shadow:5px 5px 10px rgba(0,0,0,.3);color:#004085;background:#cce5ff;border-color:#cce5ff}.polp-alert-box .bs-like-alert a{color:#004085}.polp-alert-box .bs-like-alert a:hover{text-decoration:underline}.polp-alert-box .bs-like-alert>.message-body{margin:20px}.polp-alert-box .bs-like-alert>.message-body p{margin-top:0;margin-bottom:0}.polp-alert-box .bs-like-alert>.message-body p:first-child{display:inline-flex;align-items:center}.polp-alert-box .bs-like-alert>.message-body p:first-child i{margin-right:5px}.polp-alert-box .bs-like-alert.alert-warning{color:#856404;background:#fff3cd;border-color:#fff3cd}.polp-alert-box .bs-like-alert.alert-warning h3{border-bottom:1px solid}.polp-alert-box .bs-like-alert.alert-warning a{color:#856404}.polp-alert-box .bs-like-alert.alert-error{color:#721c24;background:#f8d7da;border-color:#f8d7da}.polp-alert-box .bs-like-alert.alert-error a{color:#721c24}.polp-alert-box .bs-like-alert.alert-error h3{border-bottom:1px solid}.polp-alert-box .bs-like-alert.alert-success{color:#155724;background:#d4edda;border-color:#d4edda}.polp-alert-box .bs-like-alert.alert-success a{color:#155724}.polp-alert-box .bs-like-alert.alert-success h3{border-bottom:1px solid}.polp-alert-box .bs-like-alert.alert-info{color:#0c5460;background:#d1ecf1;border-color:#d1ecf1}.polp-alert-box .bs-like-alert.alert-info a{color:#0c5460}.polp-alert-box .bs-like-alert.alert-info h3{border-bottom:1px solid}.animate-spin{-webkit-animation:4s linear infinite spin;animation:4s linear infinite spin}@-webkit-keyframes spin{100%{-webkit-transform:rotate(360deg)}}@keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={kind:[{type:a.Input}],message:[{type:a.Input}],subMessage:[{type:a.Input}],dismissible:[{type:a.Input}]},e}(),O=function(){function e(e){if(e)throw new Error("PolpMdComponentsModule is already loaded. Import it in the AppModule only")}return e.forRoot=function(){return{ngModule:e}},e.decorators=[{type:a.NgModule,args:[{declarations:[g,x,_,k,M,w,I,T,C,P],imports:[s.CommonModule,c.FormsModule,c.ReactiveFormsModule,l.MatProgressSpinnerModule,l.MatDialogModule,l.MatButtonModule,l.MatIconModule,l.MatRadioModule,l.MatProgressBarModule,l.MatListModule,p.TagInputModule,u.AutosizeModule],exports:[g,x,_,k,P],entryComponents:[g,_,k,M,w,I,T,C],providers:[f]}]}],e.ctorParameters=function(){return[{type:e,decorators:[{type:a.Optional},{type:a.SkipSelf}]}]},e}();e.TableDataSourceAdaptor=m,e.PolpMdIndicatorModal=g,e.PolpMdSpinnerServiceImpl=f,e.parseEmails=y,e.parseOnlyEmails=function R(e){for(var t,n=[];t=h.exec(e);)n.push(t[0]);return n},e.EmailFormAbstractComponent=v,e.RadioGroupFieldControl=x,e.UploadFileComponent=_,e.ConfirmDialogComponent=k,e.MessageFormComponent=C,e.SnackbarErrorComponent=M,e.SnackbarInfoComponent=w,e.SnackbarSuccessComponent=I,e.SnackbarWarnComponent=T,e.AlertTypeEnum=A,e.AlertBoxComponent=P,e.PolpMdComponentsModule=O,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polpware-md-components.umd.min.js.map