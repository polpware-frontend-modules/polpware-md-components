!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/collections"),require("showdown"),require("rxjs"),require("@angular/cdk/coercion"),require("@angular/core"),require("@angular/common"),require("@angular/material"),require("@angular/forms"),require("ngx-chips")):"function"==typeof define&&define.amd?define("@polpware/md-components",["exports","@angular/cdk/collections","showdown","rxjs","@angular/cdk/coercion","@angular/core","@angular/common","@angular/material","@angular/forms","ngx-chips"],t):t((e.polpware=e.polpware||{},e.polpware["md-components"]={}),e.ng.cdk.collections,e.showdown,e.rxjs,e.ng.cdk.coercion,e.ng.core,e.ng.common,e.ng.material,e.ng.forms,e.ngxChips)}(this,function(e,t,n,r,o,i,a,s,l,u){"use strict";var d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};function c(e,t){function o(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var p=function(o){function e(e){var t=o.call(this)||this;return t._database=e,t._filterChange=new r.BehaviorSubject(""),t}return c(e,o),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filterChange.value},set:function(e){this._filterChange.next(e)},enumerable:!0,configurable:!0}),e.prototype.connect=function(){return this._database.dataChange.asObservable()},e.prototype.disconnect=function(){},e}(t.DataSource),m=function(){function e(e,t){this.dialogRef=e,this.data=t,this.title=t.title||""}return e.prototype.onNoClick=function(){this.dialogRef.close()},e.decorators=[{type:i.Component,args:[{selector:"polp-md-indicator-modal",template:'<div class="full-width flex-box flex-column align-items-center">\r\n  <mat-spinner>\r\n  </mat-spinner>\r\n  <h3>{{title}}</h3>\r\n</div>\r\n\r\n'}]}],e.ctorParameters=function(){return[{type:s.MatDialogRef},{type:undefined,decorators:[{type:i.Inject,args:[s.MAT_DIALOG_DATA]}]}]},e}(),g=function(){function e(e){this._dialog=e,this._showingTimer=null,this._showingDelay=500,this._dismissingTimer=null,this._diaglogRef=null,this._counter=0}return e.prototype.setDelay=function(e){this._showingDelay=1e3*e},e.prototype.show=function(e){var t=this;if(void 0===e&&(e="Loading ..."),this._counter++,!this._diaglogRef)return this._dismissingTimer?(clearTimeout(this._dismissingTimer),void(this._dismissingTimer=0)):void(this._showingTimer||(this._showingTimer=setTimeout(function(){t._showingTimer=null,t._diaglogRef=t._dialog.open(m,{width:"250px",data:{title:e}})},this._showingDelay)));this._dismissingTimer&&(clearTimeout(this._dismissingTimer),this._dismissingTimer=0)},e.prototype.hide=function(){var e=this;if(this._counter--,!(0<this._counter))return this._showingTimer?(clearTimeout(this._showingTimer),void(this._showingTimer=null)):this._dismissingTimer?(clearTimeout(this._dismissingTimer),void(this._dismissingTimer=setTimeout(function(){e._dismissingTimer=null,e._diaglogRef&&(e._diaglogRef.close(),e._diaglogRef=null)},300))):void(this._diaglogRef&&(this._dismissingTimer=setTimeout(function(){e._diaglogRef&&(e._diaglogRef.close(),e._diaglogRef=null)},300)))},e.decorators=[{type:i.Injectable}],e.ctorParameters=function(){return[{type:s.MatDialog}]},e}();function f(e){var t=e.value;return/\S+@\S+\.\S+/.test(t)?null:{isValidEmail:!0}}var h=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*/g;function y(e){for(var t,o=[],r=0;t=h.exec(e);){var n;(n=e.substring(r,t.index).replace(/(^[\s,>]+)|"|([\s,<]+$)/g,""))?o.push('"'+n+'" <'+t[0]+">"):o.push(t[0]),r=t.index+t[0].length}return o}function b(e){for(var t,o=[];t=h.exec(e);)o.push(t[0]);return o}var _=function(){function e(e){this.dialogRef=e,this.validators=[f],this.errorMessages={isValidEmail:"Please input a valid email"},this.title="Send out an email",this.emails=[],this.messageBody="",this.disableFocusEvent=!1}return Object.defineProperty(e.prototype,"isSubmitDisabled",{get:function(){return 0===this.emails.length},enumerable:!0,configurable:!0}),e.prototype.onOutOfTagInput=function(e){var t=this;this.disableFocusEvent||(e.preventDefault(),e.stopPropagation(),y(this.emailInputBox.formValue).forEach(function(e){t.emails.push(e)}),this.emailInputBox.setInputValue(""),this.disableFocusEvent=!0,this.emailBody.nativeElement.focus(),this.disableFocusEvent=!1)},e.propDecorators={emailInputBox:[{type:i.ViewChild,args:["emailInputBox"]}],emailBody:[{type:i.ViewChild,args:["emailBody"]}]},e}(),v=function(r){function e(e,t){var o=r.call(this,e)||this;return o.dialogRef=e,o.data=t,o.messageBody=t.emailBody||"",o}return c(e,r),Object.defineProperty(e.prototype,"isSubmitDisabled",{get:function(){return 0===this.emails.length},enumerable:!0,configurable:!0}),e.prototype.onSubmit=function(){var e=this.messageBody;e=(new n.Converter).makeHtml(e);var t=[];this.emails.forEach(function(e){b(e||e.value).forEach(function(e){t.push(e)})});var o={confirmed:!0,emailReceivers:t,emailBody:e,emailTitle:this.data.emailTitle||""};this.dialogRef.close(o)},e.decorators=[{type:i.Component,args:[{selector:"polp-md-email-form",template:'<h2 mat-dialog-title>\r\n    {{title}}\r\n    <button class="float-right"\r\n            mat-icon-button\r\n            tabIndex="-1"\r\n            [mat-dialog-close]="true">\r\n        <mat-icon>close</mat-icon>\r\n    </button>\r\n</h2>\r\n\r\n<mat-dialog-content>\r\n\r\n    <form name="emailForm" autocomplete="off">\r\n        <div class="flex-box flex-column margin-bottom-15">\r\n            <tag-input [(ngModel)]="emails" #emailInputBox\r\n                       name="emailInputs"\r\n                       [addOnPaste]="true"\r\n                       [modelAsStrings]="true"\r\n                       [trimTags]="true"\r\n                       [editable]="true"\r\n                       (focusout)="onOutOfTagInput($event)"\r\n                       [errorMessages]="errorMessages"\r\n                       [validators]="validators"\r\n                       [secondaryPlaceholder]="\'Emails\'"\r\n                       [separatorKeyCodes]="[32,44,58,59]"\r\n                       [placeholder]="\'More Emails\'">\r\n            </tag-input>\r\n\r\n            <div class="full-width">\r\n                <textarea name="messageBody"\r\n                          matInput\r\n                          #emailBody\r\n                          cdkTextareaAutosize\r\n                          cdkAutosizeMinRows="2"\r\n                          cdkAutosizeMaxRows="5"                      \r\n                          placeholder="Type your personal message here"\r\n                          [(ngModel)]="messageBody">\r\n                </textarea>\r\n            </div>\r\n\r\n        </div>\r\n    </form>\r\n\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions>\r\n    <button mat-flat-button\r\n            color="primary"\r\n            [disabled]="isSubmitDisabled"\r\n            (click)="onSubmit()">\r\n        Send\r\n    </button>\r\n</mat-dialog-actions>\r\n'}]}],e.ctorParameters=function(){return[{type:s.MatDialogRef},{type:undefined,decorators:[{type:i.Inject,args:[s.MAT_DIALOG_DATA]}]}]},e}(_),x=function(){function e(){this.stateChanges=new r.Subject,this.id="radio-group-field-control-"+e.nextId++,this.focused=!1,this.errorState=!1,this.controlType="radio-group-field",this.describedBy="",this.ngControl=null}return Object.defineProperty(e.prototype,"value",{get:function(){return this.radioGroup.value},set:function(e){this.radioGroup.value=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.radioGroup.required},set:function(e){this.radioGroup.required=o.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.radioGroup.disabled},set:function(e){this.radioGroup.disabled=o.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.stateChanges.complete()},e.prototype.setDescribedByIds=function(e){this.describedBy=e.join(" ")},e.prototype.onContainerClick=function(e){},e.prototype.writeValue=function(e){e!==undefined&&this.radioGroup.writeValue(e)},e.prototype.registerOnChange=function(e){this.radioGroup.registerOnChange(e)},e.prototype.registerOnTouched=function(e){this.radioGroup.registerOnTouched(e)},e.nextId=0,e.decorators=[{type:i.Component,args:[{selector:"polp-radio-group-field",template:'<mat-radio-group>\n    <mat-radio-button *ngFor="let item of radioOptions" value="{{item.value}}">{{item.text}}</mat-radio-button>\n</mat-radio-group>\n',providers:[{provide:s.MatFormFieldControl,useExisting:e},{provide:l.NG_VALUE_ACCESSOR,multi:!0,useExisting:i.forwardRef(function(){return e})}],styles:[".mat-radio-group .mat-radio-button{margin:0 5px}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={radioGroup:[{type:i.ViewChild,args:[s.MatRadioGroup]}],id:[{type:i.HostBinding}],describedBy:[{type:i.HostBinding,args:["attr.aria-describedby"]}],radioOptions:[{type:i.Input}],value:[{type:i.Input}],placeholder:[{type:i.Input}],shouldLabelFloat:[{type:i.HostBinding,args:["class.floating"]}],required:[{type:i.Input}],disabled:[{type:i.Input}]},e}(),T=function(){function e(e){if(e)throw new Error("PolpMdComponentsModule is already loaded. Import it in the AppModule only")}return e.forRoot=function(){return{ngModule:e}},e.decorators=[{type:i.NgModule,args:[{declarations:[m,v,x],imports:[a.CommonModule,l.FormsModule,l.ReactiveFormsModule,s.MatProgressSpinnerModule,s.MatDialogModule,s.MatButtonModule,s.MatIconModule,s.MatRadioModule,u.TagInputModule],exports:[m,v,x],entryComponents:[m,v],providers:[g]}]}],e.ctorParameters=function(){return[{type:e,decorators:[{type:i.Optional},{type:i.SkipSelf}]}]},e}();e.TableDataSourceAdaptor=p,e.PolpMdIndicatorModal=m,e.PolpMdSpinnerServiceImpl=g,e.parseEmails=y,e.parseOnlyEmails=b,e.EmailFormAbstractComponent=_,e.EmailFormComponent=v,e.RadioGroupFieldControl=x,e.PolpMdComponentsModule=T,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=polpware-md-components.umd.min.js.map